import {useState} from "react";
import QuestionCard from "./QuestionCard";
import Result from "./Result";

const Q = [
  ["ما عمر المبنى التقريبي؟","العمر مؤشر على الكود وجودة التنفيذ"],
  ["ما النظام الإنشائي الأساسي؟","الإطارات تختلف عن الجدران القصية"],
  ["هل المبنى منتظم بالمسقط؟","اللاانتظام يركز القوى"],
  ["هل المبنى منتظم بالارتفاع؟","الطوابق الضعيفة خطرة"],
  ["هل توجد تشققات إنشائية؟","قد تدل على إجهاد أو ضعف"],
  ["هل يوجد هبوط أو ميل؟","مرتبط مباشرة بالأساسات"],
  ["هل البلاطات تعمل كـ Diaphragm فعال؟","لنقل الأحمال الجانبية"],
  ["هل الأعمدة مستمرة بدون انقطاع؟","انقطاع الأعمدة خطر"],
  ["هل توجد جدران قصية كافية؟","ترفع المقاومة الجانبية"],
  ["هل المبنى صُمم بكود زلزالي؟","أساس الأمان"],
  ["هل حصلت تعديلات لاحقة؟","غير المدروس يضعف المنشأ"],
  ["هل يوجد طابق لين؟","يرفع احتمال الانهيار الموضعي"],
  ["هل التوزيع متوازن للجدران؟","يقلل اللف"],
  ["هل التأسيس متجانس؟","يقلل الهبوط التفاضلي"],
  ["هل توجد تآكلات بالحديد؟","تؤثر على المقاومة"],
  ["هل نوع التربة معروف؟","عامل مؤثر بالأداء"],
  ["هل يوجد انفصال إنشائي كافٍ؟","يمنع التصادم"],
  ["هل ارتفاع المبنى مناسب لنظامه؟","الطول يؤثر على الاستجابة"],
  ["هل الفتحات ضمن حدود معقولة؟","تكبيرها يضعف الجدران"],
  ["هل توجد كمرات رابطة؟","تحسن السلوك"],
  ["هل سماكات العناصر كافية؟","النحافة الزائدة خطرة"],
  ["هل يوجد انتظام بالكتلة؟","يقلل العزوم"],
  ["هل الصيانة دورية؟","تحافظ على الأداء"],
  ["هل توجد إضافات ثقيلة؟","تزيد الأحمال"],
  ["هل الأساسات ظاهرة تشققات؟","مؤشر خطر"],
  ["هل هناك سجل إنشائي؟","يسهل التقييم"],
  ["هل المبنى تعرض لهزات؟","سجل الأداء مهم"],
  ["هل توجد عوازل مائية جيدة؟","تمنع التآكل"],
  ["هل الأحمال موزعة بانتظام؟","يقلل التركيز"],
  ["هل الاستخدام الحالي مطابق للتصميم؟","تغيير الاستخدام خطر"]
];

export default function Assessment(){
  const [ans,setAns]=useState(Array(Q.length).fill(0));
  const [done,setDone]=useState(false);

  return(
    <section>
      <h2>التقييم الهندسي</h2>
      {!done && Q.map((x,i)=>(
        <QuestionCard key={i} i={i} q={x[0]} exp={x[1]} setAns={setAns}/>
      ))}
      {!done && <button onClick={()=>setDone(true)}>عرض النتيجة</button>}
      {done && <Result ans={ans}/>}
    </section>
  );
}
